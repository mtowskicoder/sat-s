<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Katalog</title>
<style>
body {margin:0;font-family:Arial,sans-serif;background:#0a0f30;color:#eee;overflow-x:hidden;}
header {padding:15px;text-align:center;background:#0a0f50;box-shadow:0 0 20px #36005a;}
header h1 {margin:0;color:#bb88ff;text-shadow:0 0 10px #bb88ff;}
#announcement {margin:20px;padding:15px;background:rgba(0,50,100,0.3);border-radius:12px;text-align:center;font-size:1.2rem;text-shadow:0 0 6px #bb88ff;}
#categoryToggle {position:fixed;top:15px;left:15px;background:#bb88ff;color:#0a0f30;border:none;padding:10px 14px;border-radius:8px;cursor:pointer;z-index:1001;}
#categoryMenu {position:fixed;top:0;left:-250px;width:220px;height:100vh;background:#0a0f50;overflow-y:auto;padding:20px;box-shadow:2px 0 10px #36005a;transition:left 0.3s;z-index:1002;border-radius:0 12px 12px 0;}
#categoryMenu ul {list-style:none;padding:0;margin:0;}
#categoryMenu li {display:flex;align-items:center;gap:10px;margin-bottom:20px;cursor:pointer;font-weight:bold;font-size:1.1rem;color:#cdbaff;transition:0.3s;}
#categoryMenu li img {width:30px;height:30px;border-radius:6px;}
#categoryMenu li:hover {color:#fff;}
#categoryMenu .mainMenuBtn {margin-top:30px;background:#8b3aff;padding:8px 12px;border-radius:8px;text-align:center;color:#fff;cursor:pointer;font-weight:bold;}
#overlay {position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.3);display:none;z-index:1000;}
#products {display:flex;flex-wrap:wrap;gap:16px;margin:20px auto;max-width:1000px;justify-content:center;}
.product {background:#1a0f50;padding:15px;border-radius:12px;width:220px;box-shadow:0 0 12px #bb88ff;transition: transform 0.2s;text-align:center;cursor:pointer;}
.product:hover {transform:scale(1.05);}
.product img {width:100px;height:100px;margin-bottom:10px;}
.product h2 {font-size:1.2rem;color:#bb88ff;margin:0 0 8px;}
.product p {font-size:0.95rem;margin:0 0 10px;min-height:48px;}
#productDetail {display:none;max-width:600px;margin:40px auto;padding:20px;background:#1a0f50;border-radius:12px;box-shadow:0 0 15px #bb88ff;text-align:center;}
#productDetail img {width:150px;height:150px;margin-bottom:15px;}
#productDetail h2{color:#bb88ff;margin-bottom:10px;}
#productDetail p{margin-bottom:12px;}
#productDetail button{background:#bb88ff;color:#0a0f30;border:none;border-radius:8px;padding:8px 12px;font-weight:bold;cursor:pointer;}
#productDetail button:hover{background:#8b3aff;color:#fff;box-shadow:0 0 10px #bb88ff;}
body::before {content:"";position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,#0a0f50,#36005a,#0a0f30,#8b3aff);background-size:400% 400%;animation:bgAnim 20s linear infinite;opacity:0.2;z-index:-1;}
@keyframes bgAnim {0%{background-position:0 0;}50%{background-position:100% 100%;}100%{background-position:0 0;}}
@media(max-width:640px){#products{margin:20px 10px 20px 10px;}}
</style>
</head>
<body>
<header><h1>√úr√ºn Kataloƒüu</h1></header>
<div id="announcement">Y√ºkleniyor...</div>
<button id="categoryToggle">üìÇ Kategoriler</button>
<nav id="categoryMenu">
<ul>
<li data-cat="whatsapp"><img src="https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif"> WhatsApp</li>
<li data-cat="instagram"><img src="https://media.giphy.com/media/l0HlNQ03J5JxX6lva/giphy.gif"> Instagram</li>
<li data-cat="tiktok"><img src="https://media.giphy.com/media/xT0GqssRweIhlz209i/giphy.gif"> TikTok</li>
<li data-cat="telegram"><img src="https://media.giphy.com/media/3o7TKPdx0B0b2ZgZbC/giphy.gif"> Telegram</li>
<li data-cat="diger"><img src="https://media.giphy.com/media/l0ExncehJzexFpRHq/giphy.gif"> Diƒüer</li>
</ul>
<div class="mainMenuBtn" id="backToMain">üè† Ana Men√º</div>
</nav>
<div id="overlay"></div>
<div id="products"></div>

<div id="productDetail">
<img src="" id="detailImg">
<h2 id="detailTitle"></h2>
<p id="detailDesc"></p>
<p id="detailPrice"></p>
<button id="buyBtn">Satƒ±n Al</button>
</div>

<script>
const PRODUCTS_JSON = 'https://raw.githubusercontent.com/mtowskicoder/sat-s/main/data/products.json';
const ANNOUNCE_JSON = 'https://raw.githubusercontent.com/mtowskicoder/sat-s/main/data/announcement.json';

let productsData=[];

// Duyuru y√ºkle
async function loadAnnouncement(){
  try{
    const res=await fetch(ANNOUNCE_JSON);
    const data=await res.json();
    document.getElementById('announcement').innerText=data.text||"Ho≈ügeldiniz!";
  }catch(e){console.error(e);document.getElementById('announcement').innerText="Duyuru y√ºklenemedi.";}
}

// √úr√ºnleri y√ºkle
async function loadProducts(){
  try{
    const res=await fetch(PRODUCTS_JSON);
    productsData=await res.json();
    displayProducts('all'); // Ba≈ülangƒ±√ßta t√ºm √ºr√ºnleri g√∂stermeyelim, kategori se√ßildiƒüinde g√∂sterilecek
  }catch(e){console.error(e);}
}

// Kategori men√ºs√º
const categoryToggle=document.getElementById('categoryToggle');
const categoryMenu=document.getElementById('categoryMenu');
const overlay=document.getElementById('overlay');
const backToMain=document.getElementById('backToMain');
const productsDiv=document.getElementById('products');
const productDetail=document.getElementById('productDetail');

categoryToggle.onclick=()=>{
  categoryMenu.style.left='0px';
  overlay.style.display='block';
};
overlay.onclick=()=>{categoryMenu.style.left='-250px';overlay.style.display='none';};

// Ana men√º butonu
backToMain.onclick=()=>{
  productDetail.style.display='none';
  productsDiv.style.display='flex';
};

// Kategoriye g√∂re √ºr√ºn g√∂ster
document.querySelectorAll('#categoryMenu li').forEach(li=>{
  li.onclick=()=>{
    const cat=li.dataset.cat;
    displayProducts(cat);
    categoryMenu.style.left='-250px';
    overlay.style.display='none';
  };
});

// √úr√ºnleri g√∂ster
function displayProducts(category){
  productsDiv.innerHTML='';
  productsDiv.style.display='flex';
  productDetail.style.display='none';
  let filtered=productsData.filter(p=>!p.sold);
  if(category!=='all') filtered=filtered.filter(p=>p.kategori===category);
  if(filtered.length===0){productsDiv.innerHTML="<p>Bu kategoride √ºr√ºn yok.</p>"; return;}
  filtered.forEach(p=>{
    const div=document.createElement('div');
    div.className='product';
    div.innerHTML=`
      <img src="${p.gif}" alt="${p.ad}">
      <h2>${p.ad} - $${p.fiyat}</h2>
      <p>${p.desc||''}</p>
    `;
    div.onclick=()=>showProductDetail(p);
    productsDiv.appendChild(div);
  });
}

// √úr√ºn detay g√∂ster
function showProductDetail(product){
  productsDiv.style.display='none';
  productDetail.style.display='block';
  document.getElementById('detailImg').src=product.gif;
  document.getElementById('detailTitle').innerText=product.ad;
  document.getElementById('detailDesc').innerText=product.desc||'';
  document.getElementById('detailPrice').innerText='Fiyat: $'+product.fiyat;
  document.getElementById('buyBtn').onclick=()=>window.open(product.link,'_blank');
}

// Ba≈ülat
loadAnnouncement();
loadProducts();
</script>
</body>
</html>
