<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MTOW Market</title>

<style>
:root{
--bg:#050b1e;
--text:#e8eeff;
--card:rgba(255,255,255,.06);
--accent:#7c4dff;
--tg:#1d9bf0;
--wa:#25D366;
}

*{box-sizing:border-box}
body{
margin:0;
font-family:Inter,system-ui,Arial;
background:var(--bg);
color:var(--text);
}

/* HEADER */
header{
height:64px;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 16px;
background:#060f2c;
position:sticky;
top:0;
z-index:50;
}
.btn{
border:0;
padding:8px 14px;
border-radius:10px;
font-weight:800;
cursor:pointer;
background:linear-gradient(90deg,var(--accent),#5f3cff);
color:#021025;
}
.title{font-weight:900;color:var(--accent)}

/* SIDEBAR */
aside{
position:fixed;
left:-280px;
top:64px;
bottom:0;
width:260px;
background:#050c25;
padding:16px;
transition:.3s;
z-index:60;
}
aside.open{left:0}
.cat{
display:flex;
align-items:center;
gap:10px;
padding:10px;
margin-bottom:10px;
background:var(--card);
border-radius:10px;
cursor:pointer;
}
.cat img{width:42px;height:42px;border-radius:8px}

/* OVERLAY */
.overlay{
position:fixed;
inset:0;
background:rgba(0,0,0,.45);
display:none;
z-index:55;
}
.overlay.show{display:block}

/* BACKGROUNDS */
.bg{
position:fixed;
inset:64px 0 0 0;
z-index:0;
opacity:0;
transition:.4s;
pointer-events:none;
}
.bg.show{opacity:1}
.bg.tg{background:linear-gradient(135deg,#0b2b55,#1d9bf0)}
.bg.wa{background:linear-gradient(135deg,#064e3b,#25D366)}
.bg.pubg{background:linear-gradient(135deg,#2b1a05,#ff9800)}

/* MAIN */
main{
max-width:1100px;
margin:20px auto;
padding:10px;
position:relative;
z-index:10;
}
.grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
gap:16px;
}
.card{
background:var(--card);
padding:12px;
border-radius:12px;
}
.thumb{
height:130px;
display:flex;
align-items:center;
justify-content:center;
}
.thumb img{max-height:100%}
.price{color:#2dd4bf;font-weight:900}
.detailBtn{
width:100%;
margin-top:10px;
padding:12px;
border-radius:10px;
border:0;
font-weight:800;
cursor:pointer;
background:linear-gradient(90deg,var(--accent),#5f3cff);
color:#021025;
}

/* DETAIL */
#detail{display:none;text-align:center}
#detail img{width:220px;border-radius:12px}

/* BUY FULLSCREEN */
.buyPop{
position:fixed;
inset:0;
background:#050b1e;
display:none;
flex-direction:column;
justify-content:center;
align-items:center;
z-index:100;
padding:20px;
text-align:center;
}
.buyBox{
width:100%;
max-width:420px;
}
.buyBox h2{margin:0}
.buyInfo{margin:16px 0;color:#aab}
.buyBtn{
padding:16px;
margin:12px 0;
border-radius:14px;
font-weight:900;
cursor:pointer;
color:#021025;
font-size:18px;
}
.buyWa{background:var(--wa)}
.buyTg{background:var(--tg)}
</style>
</head>

<body>

<header>
<button class="btn" id="menuBtn">KATEGORİ</button>
<div class="title">MTOW</div>
</header>

<aside id="sidebar">
<div class="cat" onclick="openCat('telegram')">
<img src="https://media3.giphy.com/media/yUHWI1PV3Y4btfmZBE/giphy.gif">Telegram
</div>
<div class="cat" onclick="openCat('whatsapp')">
<img src="https://media1.giphy.com/media/DRinNvjCXc5Iexx0CH/giphy.gif">WhatsApp
</div>
<div class="cat" onclick="openCat('pubg')">
<img src="https://media3.giphy.com/media/aVmxtJLqovaeICfH4g/giphy.gif">PUBG
</div>
</aside>

<div class="overlay" id="overlay"></div>

<div class="bg tg" id="bg-telegram"></div>
<div class="bg wa" id="bg-whatsapp"></div>
<div class="bg pubg" id="bg-pubg"></div>

<main>
<div id="products" class="grid"></div>

<div id="detail">
<img id="dImg">
<h2 id="dName"></h2>
<p id="dDesc"></p>
<div class="price" id="dPrice"></div>
<button class="detailBtn" onclick="openBuy()">Satın Al</button>
</div>
</main>

<div class="buyPop" id="buyPop">
<div class="buyBox">
<h2 id="bName"></h2>
<div class="buyInfo" id="bInfo"></div>

<div class="buyBtn buyWa" onclick="goWA()">WhatsApp ile Satın Al</div>
<div class="buyBtn buyTg" onclick="goTG()">Telegram ile Satın Al</div>
<button class="btn" onclick="closeBuy()">Kapat</button>
</div>
</div>

<script>
const PRODUCTS_JSON="data/products.json";
let PRODUCTS={},currentCat="",currentProduct=null;

const sidebar=document.getElementById("sidebar");
const overlay=document.getElementById("overlay");

menuBtn.onclick=()=>{sidebar.classList.add("open");overlay.classList.add("show")}
overlay.onclick=()=>{sidebar.classList.remove("open");overlay.classList.remove("show")}

fetch(PRODUCTS_JSON)
.then(r=>r.json())
.then(d=>PRODUCTS=d);

function bgShow(id){
document.querySelectorAll(".bg").forEach(b=>b.classList.remove("show"));
document.getElementById("bg-"+id).classList.add("show");
}

function openCat(cat){
currentCat=cat;
sidebar.classList.remove("open");
overlay.classList.remove("show");
bgShow(cat);

const box=document.getElementById("products");
box.innerHTML="";
document.getElementById("detail").style.display="none";
box.style.display="grid";

(PRODUCTS[cat]||[]).forEach(p=>{
const c=document.createElement("div");
c.className="card";
c.innerHTML=`
<div class="thumb"><img src="${cat==="pubg"?"https://media3.giphy.com/media/aVmxtJLqovaeICfH4g/giphy.gif":""}"></div>
<h4>${p.name}</h4>
<p>${p.description}</p>
<div class="price">${p.price}</div>
<button class="detailBtn">Detay</button>
`;
c.querySelector("button").onclick=()=>showDetail(p);
box.appendChild(c);
});
}

function showDetail(p){
currentProduct=p;
products.style.display="none";
detail.style.display="block";
dName.innerText=p.name;
dDesc.innerText=p.description;
dPrice.innerText=p.price;
}

function openBuy(){
buyPop.style.display="flex";
bName.innerText=currentProduct.name;
bInfo.innerText=`${currentProduct.description} • ${currentProduct.price}`;
}

function closeBuy(){buyPop.style.display="none"}

function goWA(){
const msg=`Ürün: ${currentProduct.name}\nKategori: ${currentCat}\nFiyat: ${currentProduct.price}`;
window.open("https://wa.me/6282261958495?text="+encodeURIComponent(msg),"_blank");
}

function goTG(){
const msg=`Ürün: ${currentProduct.name}\nKategori: ${currentCat}\nFiyat: ${currentProduct.price}`;
window.open("https://t.me/mtow1?text="+encodeURIComponent(msg),"_blank");
}
</script>

</body>
</html>
