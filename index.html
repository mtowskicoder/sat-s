<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MTOWSKI PANEL</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body{font-family:"Segoe UI",sans-serif;background:#0a0f30;color:white;overflow-x:hidden;}
  a{text-decoration:none;color:inherit;}
  main.content{max-width:900px;margin:70px auto;padding:0 20px;text-align:center;}
  h1{color:#bb88ff;margin-bottom:15px;}
  p{color:#ddd;margin-bottom:10px;}
  nav.sidebar{position:fixed;top:0;left:-260px;width:260px;height:100vh;background:#120851;box-shadow:2px 0 8px #bb88ffaa;padding:25px 20px;overflow-y:auto;transition:left 0.35s ease;z-index:1150;}
  nav.sidebar.active{left:0;}
  nav.sidebar h2{color:#cdbaff;font-size:1.5rem;margin-bottom:15px;}
  nav.sidebar ul{list-style:none;}
  nav.sidebar ul li{margin-bottom:14px;}
  nav.sidebar ul li button{display:flex;align-items:center;gap:10px;background:rgba(255,255,255,0.05);border:2px solid #bb88ff;border-radius:12px;padding:8px 12px;font-weight:700;cursor:pointer;transition:0.3s;width:100%;box-sizing:border-box;}
  nav.sidebar ul li button:hover{background:#bb88ff;color:#36005a;border-color:#7b34ff;box-shadow:0 0 14px #c4a1ff;}
  .submenu{max-height:0;overflow:hidden;transition:max-height 0.3s ease;margin-top:4px;padding-left:20px;}
  .submenu.open{max-height:300px;}
  .menu-toggle{position:fixed;top:18px;left:18px;width:44px;height:40px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;cursor:pointer;z-index:1200;}
  .menu-toggle span{display:block;width:28px;height:4px;background:#bb88ff;border-radius:2px;transition:0.3s;}
  .menu-toggle.active span:nth-child(1){transform:rotate(45deg);position:relative;top:8px;}
  .menu-toggle.active span:nth-child(2){opacity:0;}
  .menu-toggle.active span:nth-child(3){transform:rotate(-45deg);position:relative;top:-8px;}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;margin-top:20px;}
  .card{background:rgba(255,255,255,0.05);border-radius:16px;padding:18px;text-align:center;transition:0.3s;backdrop-filter:blur(10px);box-shadow:0 0 10px #0ea5e9;}
  .card:hover{transform:translateY(-5px);box-shadow:0 0 15px #8b5cf6;}
  .logo{width:50px;height:50px;border-radius:50%;margin-bottom:10px;background:#8b5cf6;display:inline-block;line-height:50px;font-size:24px;font-weight:bold;color:white;}
  button.purchase{margin-top:10px;padding:8px 12px;background:#8b5cf6;border:none;border-radius:8px;cursor:pointer;color:white;font-weight:bold;transition:0.3s;box-shadow:0 0 5px #0ea5e9;}
  button.purchase:hover{background:#6366f1;box-shadow:0 0 10px #8b5cf6;}
  #adminMenu{margin-top:20px;display:none;}
  #adminMenu button{margin:5px;padding:8px 12px;background:#8b5cf6;color:white;border:none;border-radius:8px;cursor:pointer;}
  #adminMenu button:hover{background:#6366f1;}
</style>
</head>
<body>

<div class="menu-toggle" id="menuToggle"><span></span><span></span><span></span></div>

<nav class="sidebar" id="sidebarMenu">
  <h2>Kategoriler</h2>
  <ul id="kategoriListesi"></ul>
  <button id="adminLoginBtn">🔑 Admin Girişi</button>
  <div id="adminMenu">
    <button onclick="adminUrunEkle()">➕ Ürün Ekle</button>
    <button onclick="adminUrunGuncelle()">✏️ Ürün Güncelle</button>
    <button onclick="adminSatildi()">✅ Satıldı İşaretle</button>
    <button onclick="adminDuyuru()">📢 Duyuru Güncelle</button>
  </div>
</nav>

<main class="content" id="mainContent">
  <h1>Duyuru</h1>
  <p id="duyuruMetni">Yükleniyor...</p>
  <div class="grid" id="urunListesi"></div>
</main>

<script>
// Menü toggle
const menuToggle=document.getElementById('menuToggle');
const sidebar=document.getElementById('sidebarMenu');
menuToggle.onclick=()=>{sidebar.classList.toggle('active');menuToggle.classList.toggle('active');};

// Kategoriler
let kategoriler=["Instagram","TikTok","WhatsApp","Telegram","PES","Diğer"];
let urunler=[
  {id:1,ad:"Instagram Hesap 1",kategori:"Instagram",stok:5,fiyat:3.0,desc:"Kullanıcı: @abc, Şifre: xyz"},
  {id:2,ad:"TikTok Hesap 1",kategori:"TikTok",stok:10,fiyat:2.5,desc:"Kullanıcı: @ttuser, Şifre: 123"},
  {id:3,ad:"WhatsApp Numara 1",kategori:"WhatsApp",stok:15,fiyat:1.5,desc:"Numara: +905xx, Sms Onay Aktif"}
];
const kategoriListesi=document.getElementById("kategoriListesi");
kategoriler.forEach(k=>{
  const li=document.createElement("li");
  const btn=document.createElement("button");
  btn.textContent=k;
  btn.onclick=()=>kategoriGoster(k);
  li.appendChild(btn);
  kategoriListesi.appendChild(li);
});

function kategoriGoster(k){
  const liste = urunler.filter(u=>u.kategori===k);
  render(liste);
}

function render(liste=[]){
  const container=document.getElementById("urunListesi");
  container.innerHTML=liste.map(u=>`
    <div class="card">
      <div class="logo">${u.ad[0]}</div>
      <div class="name">${u.ad}</div>
      <div>${u.desc}</div>
      <div>Stok: ${u.stok}</div>
      <div>Fiyat: ${u.fiyat.toFixed(2)} ₺</div>
      <button class="purchase" onclick="urunSat(${u.id})">Satın Al</button>
    </div>
  `).join('');
}

function urunSat(id){
  const urun=urunler.find(u=>u.id==id);
  if(!urun)return;
  if(urun.stok<=0){alert("Stokta yok!");return;}
  urun.stok--;
  render(urunler.filter(u=>u.kategori===urun.kategori));
  const mesaj=encodeURIComponent(`Merhaba,\nSatın almak istediğim ürün: ${urun.ad}\nFiyat: ${urun.fiyat}₺\nKullanıcı: @KULLANICI_ADI`);
  window.open(`https://t.me/mtowi?text=${mesaj}`,"_blank");
}

// Admin Girişi
const adminLoginBtn=document.getElementById("adminLoginBtn");
const adminMenu=document.getElementById("adminMenu");
const ADMIN_USER="mtow";
const ADMIN_PASS="A_9jD!xR2@fG$Qp8#Z";

adminLoginBtn.onclick=()=>{
  const user=prompt("Kullanıcı adı:");
  const pass=prompt("Şifre:");
  if(user===ADMIN_USER && pass===ADMIN_PASS){
    alert("Giriş başarılı!");
    adminMenu.style.display="block";
  }else{
    alert("Kullanıcı adı veya şifre yanlış!");
  }
};

// Duyuru JSON simülasyonu (localStorage)
if(localStorage.getItem("duyuru")){
  document.getElementById("duyuruMetni").innerText=localStorage.getItem("duyuru");
}else{
  localStorage.setItem("duyuru","Yenilikleri görmek için kategoriye tıklayın.");
  document.getElementById("duyuruMetni").innerText="Yenilikleri görmek için kategoriye tıklayın.";
}

// Admin İşlevleri
function adminUrunEkle(){alert("Ürün ekleme popup çalışacak");}
function adminUrunGuncelle(){alert("Ürün güncelleme popup çalışacak");}
function adminSatildi(){alert("Satıldı işaretleme popup çalışacak");}
function adminDuyuru(){
  const yeniDuyuru=prompt("Yeni duyuru metni girin:");
  if(yeniDuyuru){
    document.getElementById("duyuruMetni").innerText=yeniDuyuru;
    localStorage.setItem("duyuru",yeniDuyuru);
  }
}
</script>
</body>
</html>
